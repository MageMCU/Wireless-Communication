## Radio - XBee-PRO 900HP - 900 MHz RF Module
- Digi International - XBee-PRO 900HP embedded modules provide best-in-class range wireless connectivity to devices. They take advantage of the DigiMesh networking protocol, featuring dense network operation and support for sleeping routers, and are also available in a proprietary point-to-multipoint configuration. Supporting RF line-of-sight ranges up to **28 miles** (*with high-gain antennas*), and data rates of up to 200 Kbps, these modules are ideal for extended-range applications requiring increased data throughput. The XBee-PRO 900HP requires no programming and can be configured easily using Digi’s free **X-CTU** software or via a simplified AT command set. (datasheet)
- **Serial Communication**
    - An XBee module can operate as a stand-alone device or it can be attached to an intelligent device. For example, you can place several battery-powered XBee modules in remote locations to gather data such as temperature, humidity, light, or liquid level.
        - When operating as a stand-alone device, an XBee module simply sends sensor data to a central node.
        - When an XBee module is connected to an intelligent device (such as a computer, **Arduino**, or **Raspberry Pi**), it uses serial communication:
            - The intelligent device sends data through the serial interface to the XBee module to be transmitted to other devices over the air.
            - The XBee module receives wireless data from other devices, and then sends the data through the serial interface to the intelligent device.
    - The XBee modules **interface to a host device such as a microcontroller or computer through a logic-level asynchronous serial port**. They use a **UART** for serial communication with those devices.
    - For additional information about serial communication, go to the **XBee-PRO 900HP and XSC RF Modules User Guide**.
    - Microcontrollers attached to an XBee module can process the information received by the module and thus monitor or even control remote devices by sending messages through their local XBee module.
    - For prototyping, you can use external microcontrollers such as **Arduino** or **Raspberry Pi**, **sockets**, and **breadboards**.
    - *XBee-PRO 900HP DigiMesh Kit - Radio Frequency (RF) Module - User Guide*
- namespace ***csjc***

## Experimental Approach (For author's purposes ONLY - DO NOT TRY)
- Using an Arduino Uno with an XBee 900HP in **SPI mode** similarly with the radio nRF24L01+ requires three primary steps: hardware connection, configuring the XBee for SPI and API modes, and writing the Arduino code. (*The Raspberry Pi 3 will be tested once the Arduino Uno test is completed.*) Since the Arduino Uno uses 5V logic and the XBee 900HP uses 3.3V logic, its important a **logic level shifter** is used for safety.
- **(1) Hardware connection**

| Arduino Uno  (Master) | Logic Level Shifter | XBee 900HP (Slave) | Connection Detail                 |
| ---- | ---- | ---- | ---- |
| **SS** (Pin 10) | Low Voltage (LV) | **SPI_nSSel** (Pin 17) | **Chip select line** for controlling the XBee. |
| **MOSI** (Pin 11) | LV | **SPI_MOSI** (Pin 11) | **Master-Out Slave-In** for transmitting data. |
| **MISO** (Pin 12) | High Voltage (HV) | **SPI_MISO** (Pin 4) | **Master-In Slave-Out** for receiving data. |
| **SCK** (Pin 13) | LV | **SPI_Clk** (Pin 18) | SPI Clock generated by Arduino. |
| **GND** | GND | **GND** | Common Ground Connection |
| **5V** | HV | - | Powers the high-voltage side of the shifter. |
| - | LV | **VCC** (Pin 1) | The 3.3V supply for the XBee. |
| - | LV | **SPI_nATTN** (Pin 19) | An optional pin for the XBee to alert the Arduino that data is ready. |

- **(2) Configure the XBee**
    - The **Digi XCTU software** is used to change the XBee settings from the default UART mode to SPI and API mode. This requires connecting the XBee to the computer using a USB connection. (*The Digi Xbee-PRO 900HP DigiMesh Kit comes with development boards which has this USB cababilties.*)
    1. **Read your current settings:** Open XCTU and select the XBee.
    2. **Enable SPI:** Go to the I/O Settings section and configure the following pins:
        * **P1(SPI_nATTN):** Set to 3 (SPI_nATTN)
        * **P2(SPI_MISO):** Set to 4 (SPI_MISO)
        * **P3(SPI_MOSI):** Set to 3 (SPI_MOSI)
        * **P4(SPI_CLK):** Set to 2 (SPI_CLK)
        * **P8(SPI_nSSel):** Set to 1 (SPI_nSSel)
    3. **Enable API mode:** Serial port flow control is not possible when using the SPI port. The SPI only operates in API mode 1. The SPI does not support Transparent mode or API mode 2 (with escaped characters). This means that the AP configuration only applies to the UART interface and is ignored while using the SPI. (source: *Digi XBee®-PRO 900HP/XSC RF Modules - User Guide*)
S3 and S3B)
    4. **Save settings:** Write the changes to the module.
- **(3) Arduino Uno sketch**
    - Use the Arduino SPI library to set up the Uno as the master and send and receive API frames to and from the XBee. The following is a basci structure for communication. (source: *Google AI*)
```
#include <SPI.h>
```
### ***include folder***

### ***src folder***

### ***root folder***

### Notes
- Under review and testing

### How to use this repository
- Open PlatformIO with a new project...
- Copy and Paste contents from here into your project...
- Install RadioHead Lib from PlatformIO.
    - Understand how to use the platformio.ini file with multiple src folders - see file for details.
